<html>
	<script src="handlebars.js"></script>
	<body>
		<script>
			//https://developer.chrome.com/extensions/xhr
			var Ajax = function(){
				var request = new XMLHttpRequest();
				return {
					get:function(url, callback){
						request.open('get', url, true);
						request.onreadystatechange= function(r){
							if( request.readyState == 4 ){
								if( request.status == 200 ){
									callback(JSON.parse(request.responseText))
								}
							}
						};
						
						request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
						request.overrideMimeType("application/json");
						request.send();
					}	
				}
			}();
			
			var app {
				lero:{},
				tab:null,
				init:function(){
					var template = Handlebars.compile(document.getElementById('lero-tpl').innerHTML);
						document.getElementById('lero-display').innerHTML = template;
						
					// Ajax.get('http://geradordelerolero.herokuapp.com/generate', app.defineLero);
				},
				defineLero:function(response){
					app.lero = response;
				}
			}
			
			app.init();
		</script>
		<script id='lero-tpl' type="text/x-handlebars-template">
			Esta funcionando
		</script>
		<div id='lero-display'></div>
	</body>
</html>